
# ASP.NET Core Form Validation

This guide explains how to implement form validation in ASP.NET Core **without using JavaScript or jQuery**. It focuses on server-side validation and native HTML5 features.

---

## ‚úÖ Validation Types Covered

1. HTML5 Validation (Browser-side, no JS required)
2. Data Annotations (Server-side)
3. Custom Validation Attributes (Server-side)
4. Manual ModelState Validation (Server-side)
5. FluentValidation (Optional, Server-side only)

---

## 1. üîπ HTML5 Validation (Optional)

Basic input validation handled by the browser using built-in attributes.

### Example:
```html
<form method="post">
  <input type="email" name="Email" required />
  <input type="number" name="Age" min="18" max="99" />
  <button type="submit">Submit</button>
</form>
````

To **disable HTML5 validation**, use:

```html
<form method="post" novalidate>
```

> Use this if you only want **server-side validation**.

---

## 2. ‚úÖ Data Annotations (Server-Side Validation)

Apply validation attributes to your model class.

### Model Example:

```csharp
public class UserModel
{
    [Required]
    [EmailAddress]
    public string Email { get; set; }

    [Range(18, 99)]
    public int Age { get; set; }
}
```

### Controller Example:

```csharp
[HttpPost]
public IActionResult Submit(UserModel model)
{
    if (ModelState.IsValid)
    {
        // Process valid data
        return RedirectToAction("Success");
    }

    // Show validation errors
    return View(model);
}
```

---

## 3. ‚úÖ Custom Validation Attributes

Create your own validation rule by inheriting `ValidationAttribute`.

### Custom Attribute:

```csharp
public class NoGmailAttribute : ValidationAttribute
{
    public override bool IsValid(object value)
    {
        if (value is string email)
            return !email.EndsWith("@gmail.com");
        return true;
    }
}
```

### Use in Model:

```csharp
public class UserModel
{
    [NoGmail(ErrorMessage = "Gmail addresses are not allowed.")]
    public string Email { get; set; }
}
```

---

## 4. ‚úÖ Manual ModelState Validation

Use this for custom conditions inside your controller:

```csharp
[HttpPost]
public IActionResult Submit(UserModel model)
{
    if (string.IsNullOrWhiteSpace(model.Email))
    {
        ModelState.AddModelError("Email", "Email is required.");
    }

    if (ModelState.IsValid)
    {
        // Valid input
    }

    return View(model);
}
```

---

## 5. ‚úÖ FluentValidation (Optional, No JS)

Use FluentValidation for clean, extensible validation logic.

### Install:

```bash
dotnet add package FluentValidation.AspNetCore
```

### Validator:

```csharp
public class UserValidator : AbstractValidator<UserModel>
{
    public UserValidator()
    {
        RuleFor(x => x.Email).NotEmpty().EmailAddress();
        RuleFor(x => x.Age).InclusiveBetween(18, 99);
    }
}
```

### Register in Program.cs:

```csharp
builder.Services.AddControllersWithViews()
    .AddFluentValidation(config =>
        config.RegisterValidatorsFromAssemblyContaining<UserValidator>());
```

---

## üìå Summary

| Validation Type        | Description                   | Requires JS? |
| ---------------------- | ----------------------------- | ------------ |
| HTML5 Validation       | Browser checks via attributes | ‚ùå            |
| Data Annotations       | Built-in server validation    | ‚ùå            |
| Custom ValidationAttrs | Define your own server rules  | ‚ùå            |
| Manual ModelState      | Controller-level checks       | ‚ùå            |
| FluentValidation       | Fluent API for validation     | ‚ùå            |

---

## üìÇ Project Structure Suggestion

```
/Models
  ‚îî‚îÄ‚îÄ UserModel.cs
/Controllers
  ‚îî‚îÄ‚îÄ HomeController.cs
/Views/Home
  ‚îî‚îÄ‚îÄ Submit.cshtml
/Validators
  ‚îî‚îÄ‚îÄ UserValidator.cs (Optional)
```

---

## üîó Resources

* [ASP.NET Core Model Validation](https://learn.microsoft.com/en-us/aspnet/core/mvc/models/validation)
* [FluentValidation Docs](https://docs.fluentvalidation.net/)


## Connect with Me
- **LinkedIn**: [Suthahar Jeganathan](https://www.linkedin.com/in/jssuthahar/)
- **YouTube**: [MSDEVBUILD](https://www.youtube.com/@MSDEVBUILD)
