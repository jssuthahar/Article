
# AZ-204: Configure and Implement Diagnostics and Logging in Azure App Service Web Apps

This document contains practice questions, answers, explanations, and references based on the AZ-204 exam topic: **Configure and Implement Diagnostics and Logging** for Azure App Service Web Apps.

---

## Question 1: Identify Configuration Changes in Web Apps

**Source:** Page 229

**Question:**  
An organization hosts web apps in Azure. The organization uses Azure Monitor.  
You discover that configuration changes were made to some of the web apps.  
You need to identify the configuration changes.  
Which Azure Monitor log should you review?

**Options:**  
A. AppServiceAppLogs  
B. AppServiceEnvironmentPlatformlogs  
C. AppServiceConsoleLogs  
D. AppServiceAuditLogs

**Answer:**  
**B. AppServiceEnvironmentPlatformlogs**

**Explanation:**  
AppServiceEnvironmentPlatformLogs capture logs related to App Service Environment (ASE) such as scaling, configuration changes, and status logs.  
Other logs:  
- AppServiceAppLogs: app-generated logs  
- AppServiceConsoleLogs: console output  
- AppServiceAuditLogs: publishing protocol login events  

**Reference:**  
https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs

---

## Question 2: Increase Availability and Log Routing for Web App

**Source:** Page 268

**Question:**  
You develop and deploy a web app to Azure App Service in production. You scale out to four instances and need to configure monitoring with these requirements:  
- Increase web app availability by routing requests away from unhealthy instances and automatically replace them if still unhealthy after one hour.  
- Send web server logs, application logs, stdout, and stderr messages to an Azure Storage blob account.

**Required Configuration (Drag and Drop Style):**  
- Health check  
- Diagnostic setting  
- Application Insights  
- Auto Scale  

**Answer:**  
- **Availability:** Health check  
- **Logging:** Diagnostic setting

**Explanation:**  
- **Health Check** monitors app health, reroutes traffic, and allows auto-replacement of unhealthy instances.  
- **Diagnostic Settings** allow the app to send logs to Azure Storage, Event Hub, or Log Analytics.

**Reference:**  
https://learn.microsoft.com/en-us/azure/app-service/monitor-instances-health-check  
https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs

---

## Question 3: Set Up Application Insights for Telemetry Tracking

**Source:** Page 228

**Question:**  
An organization hosts web apps in Azure. They want to track events and telemetry data using Application Insights.  
Which three steps should you perform in sequence?

**Options:**  
- Create Application Insights resource  
- Copy the connection string  
- Configure Application Insights SDK in the app  
- Create a Log Analytics Workspace  
- Enable Live Metrics Stream  

**Answer - Sequence:**  
1. Create Application Insights resource  
2. Copy the connection string  
3. Configure Application Insights SDK in the app  

**Explanation:**  
This setup ensures telemetry from your application is collected and properly linked to Application Insights using the connection string.

**Reference:**  
https://learn.microsoft.com/en-us/azure/azure-monitor/app/asp-net-core

---

## Question 4: Detect Performance Anomalies Automatically

**Source:** Page 231

**Question:**  
You deploy an ASP.NET web app to Azure App Service. You must monitor it using Application Insights.  
What feature should you configure to get automatic alerts about performance issues and anomalies?

**Options:**  
A. Smart Detection  
B. Snapshot Debugger  
C. Profiler  
D. Standard test  

**Answer:**  
**A. Smart Detection**

**Explanation:**  
Smart Detection analyzes telemetry and alerts about abnormal behavior and performance issues automatically.

**Reference:**  
https://learn.microsoft.com/en-us/azure/azure-monitor/app/proactive-diagnostics

---

## Question 5: Diagnose Production Exceptions

**Source:** Page 234

**Question:**  
Your web app throws multiple exceptions in production.  
You need to examine the state of the source code and variables when exceptions are thrown.  
Which Application Insights feature should you enable?

**Options:**  
A. Smart Detection  
B. Profiler  
C. Snapshot Debugger  
D. Standard test  

**Answer:**  
**C. Snapshot Debugger**

**Explanation:**  
Snapshot Debugger captures the application state (stack trace, variables, etc.) at the moment of an exception, which helps in diagnosing production issues effectively.

**Reference:**  
https://learn.microsoft.com/en-us/azure/azure-monitor/app/snapshot-debugger

---
## Connect with Me
- **LinkedIn**: [Suthahar Jeganathan](https://www.linkedin.com/in/jssuthahar/)
- **YouTube**: [MSDEVBUILD](https://www.youtube.com/@MSDEVBUILD)
- **YouTube Tamil**: [MSDEVBUILD TAMIL](https://www.youtube.com/@MSDEVBUILDTamil)
- **Blog**: [Blog](https://www.msdevbuild.com/)
- **Follow Whatsapp**: [Whatsapp](https://www.whatsapp.com/channel/0029Va5j2rHEFeXcTlUhQB0J)
