# .NET Core Web Application with Azure Blob Storage Integration

This project demonstrates how to set up a .NET Core Web Application to **connect to Azure Blob Storage**, and perform **blob upload and read operations**.

## üì¶ Prerequisites

- [.NET Core SDK](https://dotnet.microsoft.com/download)
- Azure Subscription
- Azure Storage Account with Blob container
- Visual Studio or Visual Studio Code

## üîß Azure Setup Steps

1. **Create Azure Storage Account**
   - Go to [Azure Portal](https://portal.azure.com)
   - Search for **Storage accounts** > Click **+ Create**
   - Choose your **subscription**, **resource group**, **name**, **region**, and **performance tier**
   - Click **Review + Create**

2. **Create a Blob Container**
   - Inside your Storage Account > Go to **Containers**
   - Click **+ Container**, give it a name (e.g., `mycontainer`)
   - Set **Public access level** to `Private` (recommended)

3. **Get Connection String**
   - Go to **Access Keys** in the storage account
   - Copy the **Connection String**

## üõ†Ô∏è Web Application Setup

1. **Create Project**

```bash
dotnet new webapp -n BlobStorageDemo
cd BlobStorageDemo
````

2. **Add Azure Storage Blob Package**

```bash
dotnet add package Azure.Storage.Blobs
```

3. **Add Configuration**

In `appsettings.json`, add:

```json
{
  "AzureBlobStorage": {
    "ConnectionString": "Your_Connection_String_Here",
    "ContainerName": "mycontainer"
  }
}
```

4. **Create a BlobService**

Create a service file `Services/BlobService.cs`:

```csharp
using Azure.Storage.Blobs;
using Microsoft.Extensions.Configuration;
using System.IO;
using System.Threading.Tasks;

public class BlobService
{
    private readonly BlobContainerClient _containerClient;

    public BlobService(IConfiguration configuration)
    {
        var connectionString = configuration["AzureBlobStorage:ConnectionString"];
        var containerName = configuration["AzureBlobStorage:ContainerName"];
        _containerClient = new BlobContainerClient(connectionString, containerName);
        _containerClient.CreateIfNotExists();
    }

    public async Task UploadBlobAsync(string fileName, Stream content)
    {
        var blobClient = _containerClient.GetBlobClient(fileName);
        await blobClient.UploadAsync(content, overwrite: true);
    }

    public async Task<Stream> DownloadBlobAsync(string fileName)
    {
        var blobClient = _containerClient.GetBlobClient(fileName);
        var response = await blobClient.DownloadAsync();
        return response.Value.Content;
    }
}
```

5. **Register Service in `Startup.cs` or `Program.cs`**

```csharp
builder.Services.AddSingleton<BlobService>();
```

6. **Use in Controller**

```csharp
public class BlobController : Controller
{
    private readonly BlobService _blobService;

    public BlobController(BlobService blobService)
    {
        _blobService = blobService;
    }

    [HttpPost]
    public async Task<IActionResult> Upload(IFormFile file)
    {
        using var stream = file.OpenReadStream();
        await _blobService.UploadBlobAsync(file.FileName, stream);
        return Ok("File uploaded");
    }

    [HttpGet]
    public async Task<IActionResult> Download(string filename)
    {
        var stream = await _blobService.DownloadBlobAsync(filename);
        return File(stream, "application/octet-stream", filename);
    }
}
```

## üß™ Testing

* Run the application
* Use Postman or browser to test `/Blob/Upload` and `/Blob/Download?filename=yourfile.txt`

## ‚úÖ Summary

* You learned how to connect a .NET Core Web App with Azure Blob Storage
* Implemented **upload** and **read** functionality
* Applied best practices using configuration and DI

## Connect with Me
- **LinkedIn**: [Suthahar Jeganathan](https://www.linkedin.com/in/jssuthahar/)
- **YouTube**: [MSDEVBUILD](https://www.youtube.com/@MSDEVBUILD)
- **YouTube Tamil**: [MSDEVBUILD TAMIL](https://www.youtube.com/@MSDEVBUILDTamil)
- **Blog**: [Blog](https://www.msdevbuild.com/)
- **Follow Whatsapp**: [Whatsapp](https://www.whatsapp.com/channel/0029Va5j2rHEFeXcTlUhQB0J)
