# üìÅ Connect Azure File Share in C# Project

This guide provides steps and code snippets for connecting to **Azure File Share** in a C# application using the `Azure.Storage.Files.Shares` SDK.

---

## üì¶ Prerequisites

- .NET SDK (Core or Framework)
- Visual Studio or any C# IDE
- Azure Subscription
- Azure Storage Account with File Share created
- NuGet Package:
```

Azure.Storage.Files.Shares

````

---

## üîß Install NuGet Package

Install via NuGet Package Manager:

```bash
Install-Package Azure.Storage.Files.Shares
````

Or via .NET CLI:

```bash
dotnet add package Azure.Storage.Files.Shares
```

---

## üîê Connection Configuration

Add your connection string in `appsettings.json` or directly in code:

```json
{
  "AzureStorageConnectionString": "DefaultEndpointsProtocol=https;AccountName=youraccountname;AccountKey=youraccountkey;EndpointSuffix=core.windows.net"
}
```

---

## üíª C# Sample Code

```csharp
using Azure.Storage.Files.Shares;
using Azure.Storage.Files.Shares.Models;
using System;
using System.IO;
using System.Threading.Tasks;

class AzureFileShareSample
{
    private const string connectionString = "Your_Azure_Storage_Connection_String";
    private const string shareName = "your-fileshare-name";

    static async Task Main()
    {
        ShareClient share = new ShareClient(connectionString, shareName);
        await share.CreateIfNotExistsAsync();

        ShareDirectoryClient rootDir = share.GetRootDirectoryClient();

        string fileName = "sample.txt";
        string filePath = Path.Combine(Environment.CurrentDirectory, fileName);

        // Upload a file
        ShareFileClient file = rootDir.GetFileClient(fileName);
        using FileStream stream = File.OpenRead(filePath);
        await file.CreateAsync(stream.Length);
        await file.UploadAsync(stream);
        Console.WriteLine("File uploaded successfully.");

        // Download the file
        string downloadPath = Path.Combine(Environment.CurrentDirectory, "downloaded_" + fileName);
        ShareFileDownloadInfo download = await file.DownloadAsync();
        using (FileStream downloadFileStream = File.OpenWrite(downloadPath))
        {
            await download.Content.CopyToAsync(downloadFileStream);
        }
        Console.WriteLine("File downloaded successfully.");
    }
}
```

---

## üìÇ Common Operations

| Operation     | Method/Client                                        |
| ------------- | ---------------------------------------------------- |
| Create Share  | `ShareClient.CreateIfNotExistsAsync()`               |
| List Files    | `ShareDirectoryClient.GetFilesAndDirectoriesAsync()` |
| Upload File   | `ShareFileClient.UploadAsync()`                      |
| Download File | `ShareFileClient.DownloadAsync()`                    |
| Delete File   | `ShareFileClient.DeleteAsync()`                      |

---

## üß™ Use Cases

* Store shared documents for desktop or web apps
* Log or report storage
* Integration with legacy systems requiring network shares

---

## üõ°Ô∏è Security Best Practices

* Use **Azure AD** or **SAS tokens** instead of connection strings when possible.
* Restrict access at the **Storage Account Firewall** level.
* Rotate keys regularly.

---

## üìö References

* [Azure File Share Documentation](https://learn.microsoft.com/en-us/azure/storage/files/storage-files-introduction)
* [Azure.Storage.Files.Shares NuGet](https://www.nuget.org/packages/Azure.Storage.Files.Shares)

## Connect with Me
- **LinkedIn**: [Suthahar Jeganathan](https://www.linkedin.com/in/jssuthahar/)
- **YouTube**: [MSDEVBUILD](https://www.youtube.com/@MSDEVBUILD)
- **YouTube Tamil**: [MSDEVBUILD TAMIL](https://www.youtube.com/@MSDEVBUILDTamil)
- **Blog**: [Blog](https://www.msdevbuild.com/)
- **Follow Whatsapp**: [Whatsapp](https://www.whatsapp.com/channel/0029Va5j2rHEFeXcTlUhQB0J)
